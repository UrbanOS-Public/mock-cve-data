import Vehicle from './Vehicle';

export default class CrashManager {
    constructor(private vehicles: Vehicle[]) {
        if (!this.vehicles || vehicles.length === 0)
            throw Error('CrashManager constructed with no Vehicles');
    }

    crashAVehicle(): string | undefined {
        let id = undefined;
        this.vehicles.every((vehicle) => {
            if (!vehicle.isCrashed()) {
                id = vehicle.crash();
                return false; // break .every
            } else return true; // continue .every
        });
        return id;
    }
}
