import CVEPathData, { PathPoint } from './CVEPathData';
import { v4 as uuidv4 } from 'uuid';

interface VehicleLocation extends PathPoint {
    pathId: string;
    vehicleId: string;
}

export default class Vehicle {
    private vehicleId: string;

    constructor(private pathID: string, private pathData: CVEPathData) {
        this.vehicleId = uuidv4();
    }

    private getPointOnPath(point: number) {
        return this.pathData.getPath(this.pathID)[point];
    }

    public getCurrentLocation(): VehicleLocation {
        return {
            pathId: this.pathID,
            vehicleId: this.vehicleId,
            ...this.getPointOnPath(0),
        };
    }
}
