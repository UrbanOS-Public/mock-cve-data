import Vehicle from './Vehicle';
import { VEHICLE_MOVEMENT_PERIOD_MS } from './configuration';

export default class VehicleMover {
    constructor(private vehicles: Vehicle[]) {}
    // TODO: empty case. error?

    public startMovingVehicles(): void {
        setInterval(() => {
            this.advanceAllVehicles();
        }, VEHICLE_MOVEMENT_PERIOD_MS);
    }

    private advanceAllVehicles(): void {
        this.vehicles.forEach((vehicle) => {
            vehicle.advanceOnPath();
        });
    }
}
